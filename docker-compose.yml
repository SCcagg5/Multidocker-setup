version: "3.9"

x-student: &student-template
  build:
    context: .
    dockerfile: Dockerfile
  restart: unless-stopped
  volumes:
    - student_home:/home/debian

services:
  student01:
    <<: *student-template
    container_name: student01
    ports:
      - "2221:22"
      - "5433:5432"
    volumes:
      - student01_home:/home/debian

  student02:
    <<: *student-template
    container_name: student02
    ports:
      - "2222:22"
      - "5434:5432"
    volumes:
      - student02_home:/home/debian

  student03:
    <<: *student-template
    container_name: student03
    ports:
      - "2223:22"
      - "5435:5432"
    volumes:
      - student03_home:/home/debian

  student04:
    <<: *student-template
    container_name: student04
    ports:
      - "2224:22"
      - "5436:5432"
    volumes:
      - student04_home:/home/debian

  student05:
    <<: *student-template
    container_name: student05
    ports:
      - "2225:22"
      - "5437:5432"
    volumes:
      - student05_home:/home/debian

  student06:
    <<: *student-template
    container_name: student06
    ports:
      - "2226:22"
      - "5438:5432"
    volumes:
      - student06_home:/home/debian

  student07:
    <<: *student-template
    container_name: student07
    ports:
      - "2227:22"
      - "5439:5432"
    volumes:
      - student07_home:/home/debian

  student08:
    <<: *student-template
    container_name: student08
    ports:
      - "2228:22"
      - "5440:5432"
    volumes:
      - student08_home:/home/debian

  student09:
    <<: *student-template
    container_name: student09
    ports:
      - "2229:22"
      - "5441:5432"
    volumes:
      - student09_home:/home/debian

  student10:
    <<: *student-template
    container_name: student10
    ports:
      - "2230:22"
      - "5442:5432"
    volumes:
      - student10_home:/home/debian

volumes:
  student01_home:
  student02_home:
  student03_home:
  student04_home:
  student05_home:
  student06_home:
  student07_home:
  student08_home:
  student09_home:
  student10_home:
